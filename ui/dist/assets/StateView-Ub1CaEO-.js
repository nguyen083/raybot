import{_ as g,a as x}from"./CardContent.vuevuetypescriptsetuptruelang-DgoNsII7.js";import{_ as v,a as b}from"./CardTitle.vuevuetypescriptsetuptruelang-Cyipx8TC.js";import{P as I,c as M,a as q}from"./createLucideIcon-c_XaGqWK.js";import{b as z,d as E,c as ot}from"./PopperContent-iYGn7TJ4.js";import{i as H,u as nt,_ as at,a as lt,b as O,c as rt,d as it}from"./SelectValue.vuevuetypescriptsetuptruelang-CTj3kiGs.js";import{d as C,D as T,a as P,c as m,o as p,w as a,r as j,u as e,E as dt,m as Q,f as y,h as _,b as o,j as Z,i as u,e as t,t as r,F as G,v as X,y as S,G as ut,H as ct,p as pt,B as ft}from"./index-Z227Zutj.js";import{C as Y,f as K,_ as $,M as mt,a as w,P as _t,A as gt}from"./date-CjgXDH-a.js";import{_ as xt,a as V,b as R,c as vt}from"./TabsTrigger.vuevuetypescriptsetuptruelang-DUaHza6v.js";import{T as bt}from"./triangle-alert-C1gXphB3.js";import{_ as yt}from"./Separator.vuevuetypescriptsetuptruelang-WjfPwO3f.js";import{i as Ct,_ as ht,L as $t}from"./http-D79Vlxui.js";import{C as B,_ as wt}from"./SelectGroup.vuevuetypescriptsetuptruelang-BND5kCRT.js";const A=100,[Mt,St]=ot("ProgressRoot"),N=i=>typeof i=="number";function kt(i,s){return H(i)||N(i)&&!Number.isNaN(i)&&i<=s&&i>=0?i:(console.error(`Invalid prop \`value\` of value \`${i}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Dt(i){return N(i)&&!Number.isNaN(i)&&i>0?i:(console.error(`Invalid prop \`max\` of value \`${i}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A}\`.`),A)}const Vt=C({__name:"ProgressRoot",props:{modelValue:{},max:{default:A},getValueLabel:{type:Function,default:(i,s)=>`${Math.round(i/s*A)}%`},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:max"],setup(i,{emit:s}){const d=i,n=s;z();const l=E(d,"modelValue",n,{passive:d.modelValue===void 0}),f=E(d,"max",n,{passive:d.max===void 0});T(()=>l.value,async c=>{const h=kt(c,d.max);h!==c&&(await dt(),l.value=h)},{immediate:!0}),T(()=>d.max,c=>{const h=Dt(d.max);h!==c&&(f.value=h)},{immediate:!0});const k=P(()=>H(l.value)?"indeterminate":l.value===f.value?"complete":"loading");return St({modelValue:l,max:f,progressState:k}),(c,h)=>(p(),m(e(I),{"as-child":c.asChild,as:c.as,"aria-valuemax":e(f),"aria-valuemin":0,"aria-valuenow":N(e(l))?e(l):void 0,"aria-valuetext":c.getValueLabel(e(l),e(f)),"aria-label":c.getValueLabel(e(l),e(f)),role:"progressbar","data-state":k.value,"data-value":e(l)??void 0,"data-max":e(f)},{default:a(()=>[j(c.$slots,"default",{modelValue:e(l)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Rt=C({__name:"ProgressIndicator",props:{asChild:{type:Boolean},as:{}},setup(i){const s=i,d=Mt();return z(),(n,l)=>{var f;return p(),m(e(I),Q(s,{"data-state":e(d).progressState.value,"data-value":((f=e(d).modelValue)==null?void 0:f.value)??void 0,"data-max":e(d).max.value}),{default:a(()=>[j(n.$slots,"default")]),_:3},16,["data-state","data-value","data-max"])}}});/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=M("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=M("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=M("battery-full",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=M("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=M("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=M("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=M("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=M("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=M("usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-vue-next v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=M("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),D=C({__name:"CardDescription",props:{class:{}},setup(i){const s=i;return(d,n)=>(p(),y("p",{class:_(e(q)("text-sm text-muted-foreground",s.class))},[j(d.$slots,"default")],2))}}),L=C({__name:"Progress",props:{modelValue:{default:0},max:{default:100},getValueLabel:{},asChild:{type:Boolean},as:{},class:{},variant:{}},setup(i){const s=i,d=P(()=>{const{class:n,...l}=s;return l});return(n,l)=>(p(),m(e(Vt),Q(d.value,{class:e(q)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s.class)}),{default:a(()=>[o(e(Rt),{class:_(["flex-1 w-full h-full transition-all",s.variant?`bg-${s.variant}`:"bg-primary"]),style:Z(`transform: translateX(-${n.max-(s.modelValue??0)}%);`)},null,8,["class","style"])]),_:1},16,["class"]))}}),jt={class:"mt-2 text-xs text-muted-foreground"},Nt=C({__name:"BatteryCard",props:{battery:{}},setup(i){const s=i;function d(l){return l<20?"text-destructive":l<60?"text-warning":"text-success"}function n(l){return l<20?"destructive":l<60?"warning":"success"}return(l,f)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),{class:"pb-2"},{default:a(()=>[o(e(b),{class:"flex items-center gap-2 text-sm font-medium"},{default:a(()=>[o(e(tt),{class:"w-8 h-8"}),f[0]||(f[0]=u(" Battery "))]),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",{class:_(["text-2xl font-bold",d(s.battery.percent)])},r(s.battery.percent)+"% ",3),o(e(L),{"model-value":s.battery.percent,variant:n(s.battery.percent),class:"mt-2"},null,8,["model-value","variant"]),t("p",jt," Health: "+r(s.battery.health)+"% ",1)]),_:1})]),_:1}))}}),Et={class:"space-y-4"},Ot={class:"flex items-center gap-4"},Tt={class:"flex-1"},Bt={class:"text-xs text-muted-foreground"},Ut=C({__name:"ConnectionsCard",props:{appConnection:{}},setup(i){const s=i,d=P(()=>{let l=0;return s.appConnection.espSerialConnection.connected&&l++,s.appConnection.picSerialConnection.connected&&l++,s.appConnection.rfidUsbConnection.connected&&l++,l}),n=P(()=>3);return(l,f)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),null,{default:a(()=>f[0]||(f[0]=[u("Connections")])),_:1}),o(e(D),null,{default:a(()=>[u(r(e(d))+" of "+r(e(n))+" peripherals connected ",1)]),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Et,[t("div",Ot,[t("div",{class:_(["p-2 rounded-full",s.appConnection.cloudConnection.connected?"bg-success/10":"bg-red-500/10"])},[o(e(Y),{class:_(["w-4 h-4",s.appConnection.cloudConnection.connected?"text-success":"text-red-500"])},null,8,["class"])],2),t("div",Tt,[f[1]||(f[1]=t("p",{class:"text-sm font-medium"}," Cloud connection ",-1)),t("p",Bt," Uptime: "+r(e(K)(s.appConnection.cloudConnection.uptime)),1)]),o(e($),{variant:s.appConnection.cloudConnection.connected?"default":"destructive"},{default:a(()=>[u(r(s.appConnection.cloudConnection.connected?"Online":"Offline"),1)]),_:1},8,["variant"])])])]),_:1})]),_:1}))}}),Ft={class:"text-lg font-medium"},It={class:"mt-2 text-xs text-muted-foreground"},qt=C({__name:"LocationCard",props:{location:{}},setup(i){const s=i;return(d,n)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),{class:"pb-2"},{default:a(()=>[o(e(b),{class:"flex items-center gap-2 text-sm font-medium"},{default:a(()=>[o(e(mt),{class:"w-6 h-6"}),n[0]||(n[0]=u(" Location "))]),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Ft,r(s.location.currentLocation===""?"N/A":s.location.currentLocation),1),t("p",It," Updated: "+r(e(w)(s.location.updatedAt)),1)]),_:1})]),_:1}))}}),zt={class:"space-y-2"},Ht={class:"flex items-center justify-between"},Qt={class:"flex items-center justify-between"},Zt={class:"flex items-center justify-between"},Gt=C({__name:"MotorsCard",props:{liftMotor:{},driveMotor:{},cargoDoorMotor:{}},setup(i){const s=i;function d(n){return{variant:n?"default":"secondary",label:n?"Active":"Idle"}}return(n,l)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),{class:"pb-2"},{default:a(()=>[o(e(b),{class:"flex items-center gap-2 text-sm font-medium"},{default:a(()=>[o(e(Lt),{class:"w-6 h-6"}),l[0]||(l[0]=u(" Motors "))]),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",zt,[t("div",Ht,[l[1]||(l[1]=t("span",{class:"text-sm"},"Lift motor",-1)),o(e($),{variant:d(s.liftMotor.isRunning).variant},{default:a(()=>[u(r(d(s.liftMotor.isRunning).label),1)]),_:1},8,["variant"])]),t("div",Qt,[l[2]||(l[2]=t("span",{class:"text-sm"},"Drive motor",-1)),o(e($),{variant:d(s.driveMotor.isRunning).variant},{default:a(()=>[u(r(d(s.driveMotor.isRunning).label),1)]),_:1},8,["variant"])]),t("div",Zt,[l[3]||(l[3]=t("span",{class:"text-sm"},"Cargo door motor",-1)),o(e($),{variant:d(s.cargoDoorMotor.isRunning).variant},{default:a(()=>[u(r(d(s.cargoDoorMotor.isRunning).label),1)]),_:1},8,["variant"])])])]),_:1})]),_:1}))}}),Xt={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2 lg:grid-cols-4"},Yt=C({__name:"StateOverview",props:{robotState:{}},setup(i){const s=i;return(d,n)=>(p(),y("div",Xt,[o(Nt,{battery:s.robotState.battery},null,8,["battery"]),o(Gt,{"lift-motor":s.robotState.liftMotor,"drive-motor":s.robotState.driveMotor,"cargo-door-motor":s.robotState.cargoDoorMotor},null,8,["lift-motor","drive-motor","cargo-door-motor"]),o(qt,{location:s.robotState.location},null,8,["location"]),o(Ut,{"app-connection":s.robotState.appConnection},null,8,["app-connection"])]))}}),Kt={class:"space-y-4"},Wt={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Jt={class:"space-y-4"},te={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ee={class:"flex items-center gap-2"},se={class:"text-xl font-bold"},oe={class:"flex items-center gap-2"},ne={class:"text-xl font-bold"},ae={class:"flex items-center gap-2"},le={class:"text-xl font-bold"},re={class:"flex items-center gap-2"},ie={class:"text-xl font-bold"},de={class:"grid grid-cols-2 gap-4"},ue={class:"text-xs text-muted-foreground"},ce={class:"text-lg font-medium"},pe={class:"space-y-4"},fe={class:"flex justify-between mb-4"},me={class:"flex justify-between mb-4"},_e={class:"text-sm"},ge={class:"flex justify-between"},xe={class:"text-sm"},ve={class:"flex justify-between mb-4"},be={class:"flex justify-between"},ye={class:"text-sm"},Ce={class:"flex items-center gap-2"},he={key:0,class:"mt-2 text-sm text-red-500"},$e=C({__name:"BatteryTabContent",props:{battery:{},charge:{},discharge:{}},setup(i){const s=i;return(d,n)=>(p(),y("div",Kt,[o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),null,{default:a(()=>n[0]||(n[0]=[u("Battery Details")])),_:1}),o(e(D),null,{default:a(()=>n[1]||(n[1]=[u("Current battery status and power management")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Wt,[t("div",Jt,[t("div",null,[n[6]||(n[6]=t("h3",{class:"mb-2 font-medium"}," Battery Status ",-1)),t("div",te,[t("div",ee,[o(e(tt),{class:"w-5 h-5 text-muted-foreground"}),t("div",null,[n[2]||(n[2]=t("p",{class:"text-sm font-medium"}," Charge ",-1)),t("p",se,r(d.battery.percent)+"% ",1)])]),t("div",oe,[o(e(Pt),{class:"w-5 h-5 text-muted-foreground"}),t("div",null,[n[3]||(n[3]=t("p",{class:"text-sm font-medium"}," Temperature ",-1)),t("p",ne,r(d.battery.temp)+"Â°C ",1)])]),t("div",ae,[o(e(F),{class:"w-5 h-5 text-muted-foreground"}),t("div",null,[n[4]||(n[4]=t("p",{class:"text-sm font-medium"}," Voltage ",-1)),t("p",le,r(d.battery.voltage)+" V ",1)])]),t("div",re,[o(e(F),{class:"w-5 h-5 text-muted-foreground"}),t("div",null,[n[5]||(n[5]=t("p",{class:"text-sm font-medium"}," Current ",-1)),t("p",ie,r(d.battery.current)+" mA ",1)])])])]),t("div",null,[n[7]||(n[7]=t("h3",{class:"mb-2 font-medium"}," Cell Voltages ",-1)),t("div",de,[(p(!0),y(G,null,X(d.battery.cellVoltages,(l,f)=>(p(),m(e(g),{key:f},{default:a(()=>[o(e(x),{class:"p-2"},{default:a(()=>[t("p",ue," Cell "+r(f+1),1),t("p",ce,r(l)+" V ",1)]),_:2},1024)]),_:2},1024))),128))])])]),t("div",pe,[o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[8]||(n[8]=[u(" Charging Status ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",fe,[n[9]||(n[9]=t("span",{class:"text-sm font-medium"},"Status",-1)),o(e($),{variant:d.charge.enabled?"default":"secondary"},{default:a(()=>[u(r(d.charge.enabled?"Charging":"Not Charging"),1)]),_:1},8,["variant"])]),t("div",me,[n[10]||(n[10]=t("span",{class:"text-sm font-medium"},"Health",-1)),t("span",_e,r(d.battery.health)+"%",1)]),t("div",ge,[n[11]||(n[11]=t("span",{class:"text-sm font-medium"},"Limit",-1)),t("span",xe,r(d.charge.currentLimit)+" mA",1)])]),_:1})]),_:1}),o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[12]||(n[12]=[u(" Discharge Status ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",ve,[n[13]||(n[13]=t("span",{class:"text-sm font-medium"},"Status",-1)),o(e($),{variant:d.discharge.enabled?"default":"secondary"},{default:a(()=>[u(r(d.discharge.enabled?"Discharging":"Not Discharging"),1)]),_:1},8,["variant"])]),t("div",be,[n[14]||(n[14]=t("span",{class:"text-sm font-medium"},"Limit",-1)),t("span",ye,r(s.discharge.currentLimit)+" mA",1)])]),_:1})]),_:1}),o(e(g),{class:_(d.battery.fault>0?"border-red-500":"border-success")},{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[15]||(n[15]=[u(" Fault Status ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Ce,[o(e(bt),{class:"w-5 h-5 text-red-500"}),t("span",{class:_(["text-sm font-medium",s.battery.fault>0?"text-red-500":"text-success"])},r(s.battery.fault>0?"Fault Detected":"No Faults"),3)]),s.battery.fault>0?(p(),y("p",he," Fault code: "+r(s.battery.fault),1)):S("",!0)]),_:1})]),_:1},8,["class"])])])]),_:1})]),_:1})]))}}),we={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Me={class:"space-y-4"},Se={class:"flex items-center gap-4"},ke={class:"text-xl font-bold"},De={class:"space-y-2"},Ve={class:"grid grid-cols-2 gap-4"},Re={class:"text-lg font-medium"},Le={class:"text-lg font-medium"},Pe={class:"text-xs text-muted-foreground"},Ae={class:"space-y-4"},je={class:"flex items-center gap-4"},Ne={class:"text-xl font-bold"},Ee={class:"space-y-2"},Oe={class:"grid grid-cols-2 gap-4"},Te={class:"text-lg font-medium"},Be={class:"text-xs text-muted-foreground"},Ue=C({__name:"CargoTabContent",props:{cargo:{},cargoDoorMotor:{}},setup(i){const s=i;return(d,n)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),null,{default:a(()=>n[0]||(n[0]=[u("Cargo Status")])),_:1}),o(e(D),null,{default:a(()=>n[1]||(n[1]=[u("Current cargo information")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",we,[t("div",Me,[t("div",Se,[t("div",{class:_(["p-3 rounded-full",s.cargo.isOpen?"bg-green-100":"bg-muted"])},[o(e(_t),{class:_(["w-6 h-6",s.cargo.isOpen?"text-green-600":"text-muted-foreground"])},null,8,["class"])],2),t("div",null,[n[2]||(n[2]=t("p",{class:"text-sm text-muted-foreground"}," Cargo Status ",-1)),t("p",ke,r(s.cargo.isOpen?"Open":"Closed"),1)])]),t("div",De,[n[5]||(n[5]=t("h3",{class:"text-sm font-medium"}," Cargo Details ",-1)),t("div",Ve,[t("div",null,[n[3]||(n[3]=t("p",{class:"text-sm text-muted-foreground"}," QR Code ",-1)),t("p",Re,r(s.cargo.qrCode||"No QR Code"),1)]),t("div",null,[n[4]||(n[4]=t("p",{class:"text-sm text-muted-foreground"}," Bottom Distance ",-1)),t("p",Le,r(s.cargo.bottomDistance)+" cm ",1)])])]),t("div",Pe," Last updated: "+r(e(w)(s.cargo.updatedAt)),1)]),t("div",Ae,[t("div",je,[t("div",{class:_(["p-3 rounded-full",s.cargoDoorMotor.direction==="OPEN"?"bg-green-100":"bg-yellow-100"])},[s.cargoDoorMotor.direction==="OPEN"?(p(),m(e(et),{key:0,class:"w-6 h-6 text-green-600"})):(p(),m(e(st),{key:1,class:"w-6 h-6 text-yellow-600"}))],2),t("div",null,[n[6]||(n[6]=t("p",{class:"text-sm text-muted-foreground"}," Cargo Door ",-1)),t("p",Ne,r(s.cargoDoorMotor.direction==="OPEN"?"Open":"Closed"),1)])]),t("div",Ee,[n[9]||(n[9]=t("h3",{class:"text-sm font-medium"}," Motor Status ",-1)),t("div",Oe,[t("div",null,[n[7]||(n[7]=t("p",{class:"text-sm text-muted-foreground"}," Speed ",-1)),t("p",Te,r(s.cargoDoorMotor.speed)+"% ",1)]),t("div",null,[n[8]||(n[8]=t("p",{class:"text-sm text-muted-foreground"}," Status ",-1)),o(e($),{variant:s.cargoDoorMotor.isRunning?"default":"outline"},{default:a(()=>[u(r(s.cargoDoorMotor.isRunning?"Running":"Idle"),1)]),_:1},8,["variant"])])])]),t("div",Be," Last updated: "+r(e(w)(s.cargoDoorMotor.updatedAt)),1)])])]),_:1})]),_:1}))}}),Fe={class:"space-y-4"},Ie={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},qe={class:"space-y-4"},ze={class:"flex items-center gap-4 mb-4"},He={class:"text-lg font-bold"},Qe={class:"space-y-2"},Ze={class:"flex justify-between text-sm"},Ge={class:"flex justify-between text-sm"},Xe={key:0,class:"mt-2 text-xs text-red-500"},Ye={class:"flex items-center gap-4 mb-4"},Ke={class:"text-lg font-bold"},We={class:"space-y-2"},Je={class:"flex justify-between text-sm"},ts={key:0,class:"mt-2 text-xs text-red-500"},es={class:"space-y-4"},ss={class:"flex items-center gap-4 mb-4"},os={class:"text-lg font-bold"},ns={class:"space-y-2"},as={class:"flex justify-between text-sm"},ls={key:0,class:"mt-2 text-xs text-red-500"},rs={class:"flex items-center gap-4 mb-4"},is={class:"text-lg font-bold"},ds={class:"space-y-2"},us={class:"flex justify-between text-sm"},cs={key:0,class:"mt-2 text-xs text-red-500"},ps=C({__name:"ConnectionsTabContent",props:{appConnection:{}},setup(i){const s=i;return(d,n)=>(p(),y("div",Fe,[o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),null,{default:a(()=>n[0]||(n[0]=[u("Connection Details")])),_:1}),o(e(D),null,{default:a(()=>n[1]||(n[1]=[u("Current connection status and details")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Ie,[t("div",qe,[o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[2]||(n[2]=[u(" Cloud Connection ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",ze,[t("div",{class:_(["p-2 rounded-full",s.appConnection.cloudConnection.connected?"bg-green-100":"bg-red-500/10"])},[o(e(Y),{class:_(["w-5 h-5",s.appConnection.cloudConnection.connected?"text-green-600":"text-red-500"])},null,8,["class"])],2),t("div",null,[n[3]||(n[3]=t("p",{class:"text-sm font-medium"}," Status ",-1)),t("p",He,r(s.appConnection.cloudConnection.connected?"Connected":"Disconnected"),1)])]),t("div",Qe,[t("div",Ze,[n[4]||(n[4]=t("span",{class:"text-muted-foreground"},"Uptime",-1)),t("span",null,r(e(K)(s.appConnection.cloudConnection.uptime)),1)]),t("div",Ge,[n[5]||(n[5]=t("span",{class:"text-muted-foreground"},"Last Connected",-1)),t("span",null,r(s.appConnection.cloudConnection.lastConnectedAt?e(w)(s.appConnection.cloudConnection.lastConnectedAt):"Never"),1)])]),s.appConnection.cloudConnection.error?(p(),y("div",Xe," Error: "+r(s.appConnection.cloudConnection.error),1)):S("",!0)]),_:1})]),_:1}),o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[6]||(n[6]=[u(" ESP Serial Connection ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Ye,[t("div",{class:_(["p-2 rounded-full",s.appConnection.espSerialConnection.connected?"bg-green-100":"bg-red-500/10"])},[o(e(U),{class:_(["w-5 h-5",s.appConnection.espSerialConnection.connected?"text-green-600":"text-red-500"])},null,8,["class"])],2),t("div",null,[n[7]||(n[7]=t("p",{class:"text-sm font-medium"}," Status ",-1)),t("p",Ke,r(s.appConnection.espSerialConnection.connected?"Connected":"Disconnected"),1)])]),t("div",We,[t("div",Je,[n[8]||(n[8]=t("span",{class:"text-muted-foreground"},"Last Connected",-1)),t("span",null,r(s.appConnection.espSerialConnection.lastConnectedAt?e(w)(s.appConnection.espSerialConnection.lastConnectedAt):"Never"),1)])]),s.appConnection.espSerialConnection.error?(p(),y("div",ts," Error: "+r(s.appConnection.espSerialConnection.error),1)):S("",!0)]),_:1})]),_:1})]),t("div",es,[o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[9]||(n[9]=[u(" PIC Serial Connection ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",ss,[t("div",{class:_(["p-2 rounded-full",s.appConnection.picSerialConnection.connected?"bg-green-100":"bg-red-500/10"])},[o(e(U),{class:_(["w-5 h-5",s.appConnection.picSerialConnection.connected?"text-green-600":"text-red-500"])},null,8,["class"])],2),t("div",null,[n[10]||(n[10]=t("p",{class:"text-sm font-medium"}," Status ",-1)),t("p",os,r(s.appConnection.picSerialConnection.connected?"Connected":"Disconnected"),1)])]),t("div",ns,[t("div",as,[n[11]||(n[11]=t("span",{class:"text-muted-foreground"},"Last Connected",-1)),t("span",null,r(s.appConnection.picSerialConnection.lastConnectedAt?e(w)(s.appConnection.picSerialConnection.lastConnectedAt):"Never"),1)])]),s.appConnection.picSerialConnection.error?(p(),y("div",ls," Error: "+r(s.appConnection.picSerialConnection.error),1)):S("",!0)]),_:1})]),_:1}),o(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),{class:"text-base"},{default:a(()=>n[12]||(n[12]=[u(" RFID USB Connection ")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",rs,[t("div",{class:_(["p-2 rounded-full",s.appConnection.rfidUsbConnection.connected?"bg-green-100":"bg-red-500/10"])},[o(e(At),{class:_(["w-5 h-5",s.appConnection.rfidUsbConnection.connected?"text-green-600":"text-red-500"])},null,8,["class"])],2),t("div",null,[n[13]||(n[13]=t("p",{class:"text-sm font-medium"}," Status ",-1)),t("p",is,r(s.appConnection.rfidUsbConnection.connected?"Connected":"Disconnected"),1)])]),t("div",ds,[t("div",us,[n[14]||(n[14]=t("span",{class:"text-muted-foreground"},"Last Connected",-1)),t("span",null,r(s.appConnection.rfidUsbConnection.lastConnectedAt?e(w)(s.appConnection.rfidUsbConnection.lastConnectedAt):"Never"),1)])]),s.appConnection.rfidUsbConnection.error?(p(),y("div",cs," Error: "+r(s.appConnection.rfidUsbConnection.error),1)):S("",!0)]),_:1})]),_:1})])])]),_:1})]),_:1})]))}}),fs={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},ms={class:"space-y-2"},_s={class:"flex items-center gap-2"},gs={class:"text-3xl font-bold"},xs={class:"space-y-2"},vs={class:"flex items-center gap-2"},bs={class:"text-3xl font-bold"},ys={class:"space-y-2"},Cs={class:"flex items-center gap-2"},hs={class:"text-3xl font-bold"},$s={class:"mt-6 text-xs text-muted-foreground"},ws=C({__name:"DistanceSensorsTabContent",props:{distanceSensor:{}},setup(i){const s=i;return(d,n)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),null,{default:a(()=>n[0]||(n[0]=[u("Distance Sensors")])),_:1}),o(e(D),null,{default:a(()=>n[1]||(n[1]=[u("Proximity sensor readings")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",fs,[t("div",ms,[t("div",_s,[o(e(W),{class:"w-5 h-5 text-muted-foreground"}),n[2]||(n[2]=t("h3",{class:"font-medium"}," Front Distance ",-1))]),t("div",gs,r(s.distanceSensor.frontDistance)+" cm ",1),o(e(L),{value:Math.min(100,s.distanceSensor.frontDistance/200*100),class:"h-2"},null,8,["value"])]),t("div",xs,[t("div",vs,[o(e(J),{class:"w-5 h-5 text-muted-foreground"}),n[3]||(n[3]=t("h3",{class:"font-medium"}," Back Distance ",-1))]),t("div",bs,r(s.distanceSensor.backDistance)+" cm ",1),o(e(L),{value:Math.min(100,s.distanceSensor.backDistance/200*100),class:"h-2"},null,8,["value"])]),t("div",ys,[t("div",Cs,[o(e(gt),{class:"w-5 h-5 text-muted-foreground"}),n[4]||(n[4]=t("h3",{class:"font-medium"}," Down Distance ",-1))]),t("div",hs,r(s.distanceSensor.downDistance)+" cm ",1),o(e(L),{value:Math.min(100,s.distanceSensor.downDistance/50*100),class:"h-2"},null,8,["value"])])]),t("div",$s," Last updated: "+r(e(w)(s.distanceSensor.updatedAt)),1)]),_:1})]),_:1}))}}),Ms={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},Ss={class:"space-y-4"},ks={class:"space-y-4"},Ds={class:"flex items-center justify-between"},Vs={class:"space-y-1"},Rs={class:"flex justify-between text-sm"},Ls={class:"space-y-1"},Ps={class:"flex justify-between text-sm"},As={class:"relative h-2 rounded-full bg-muted"},js={class:"flex items-center justify-between"},Ns={class:"text-xs text-muted-foreground"},Es={class:"space-y-4"},Os={class:"space-y-4"},Ts={class:"flex items-center justify-between"},Bs={class:"flex items-center justify-between"},Us={class:"flex items-center gap-2"},Fs={class:"leading-5"},Is={class:"space-y-1"},qs={class:"flex justify-between text-sm"},zs={class:"flex items-center justify-between"},Hs={class:"text-xs text-muted-foreground"},Qs={class:"flex flex-col gap-6 sm:flex-row"},Zs={class:"flex items-center gap-4"},Gs={class:"text-lg"},Xs={class:"self-end text-xs text-muted-foreground"},Ys=C({__name:"MotorsTabContent",props:{liftMotor:{},driveMotor:{},cargoDoorMotor:{}},setup(i){const s=i,d=P(()=>{const n=s.liftMotor.currentPosition/s.liftMotor.targetPosition*100;return n>100?100:n});return(n,l)=>(p(),m(e(g),null,{default:a(()=>[o(e(v),null,{default:a(()=>[o(e(b),null,{default:a(()=>l[0]||(l[0]=[u("Motor Status")])),_:1}),o(e(D),null,{default:a(()=>l[1]||(l[1]=[u("Lift and drive motor information")])),_:1})]),_:1}),o(e(x),null,{default:a(()=>[t("div",Ms,[t("div",Ss,[l[6]||(l[6]=t("h3",{class:"font-medium"}," Lift Motor ",-1)),t("div",ks,[t("div",Ds,[l[2]||(l[2]=t("span",{class:"text-sm font-medium"},"Status",-1)),o(e($),{variant:s.liftMotor.isRunning?"default":"outline"},{default:a(()=>[u(r(s.liftMotor.isRunning?"Running":"Idle"),1)]),_:1},8,["variant"])]),t("div",Vs,[t("div",Rs,[l[3]||(l[3]=t("span",null,"Current Position",-1)),t("span",null,r(s.liftMotor.currentPosition)+"cm",1)])]),t("div",Ls,[t("div",Ps,[l[4]||(l[4]=t("span",null,"Target Position",-1)),t("span",null,r(s.liftMotor.targetPosition)+"cm",1)]),t("div",As,[t("div",{class:"absolute w-1 h-4 -translate-y-1/2 rounded-full bg-primary top-1/2",style:Z({left:`${e(d)}%`})},null,4)])]),t("div",js,[l[5]||(l[5]=t("span",{class:"text-sm font-medium"},"Enabled",-1)),o(e($),{variant:s.liftMotor.enabled?"default":"destructive"},{default:a(()=>[u(r(s.liftMotor.enabled?"Yes":"No"),1)]),_:1},8,["variant"])]),t("div",Ns," Last updated: "+r(e(w)(s.liftMotor.updatedAt)),1)])]),t("div",Es,[l[11]||(l[11]=t("h3",{class:"font-medium"}," Drive Motor ",-1)),t("div",Os,[t("div",Ts,[l[7]||(l[7]=t("span",{class:"text-sm font-medium"},"Status",-1)),o(e($),{variant:s.driveMotor.isRunning?"default":"outline"},{default:a(()=>[u(r(s.driveMotor.isRunning?"Running":"Idle"),1)]),_:1},8,["variant"])]),t("div",Bs,[l[8]||(l[8]=t("span",{class:"text-sm font-medium"},"Direction",-1)),t("div",Us,[s.driveMotor.direction==="FORWARD"?(p(),m(e(J),{key:0,class:"w-4 h-4 leading-5 text-success"})):(p(),m(e(W),{key:1,class:"w-4 h-4 leading-5 text-warning"})),t("span",Fs,r(s.driveMotor.direction),1)])]),t("div",Is,[t("div",qs,[l[9]||(l[9]=t("span",null,"Speed",-1)),t("span",null,r(s.driveMotor.speed)+"%",1)]),o(e(L),{"model-value":s.driveMotor.speed,max:100,class:"h-2"},null,8,["model-value"])]),t("div",zs,[l[10]||(l[10]=t("span",{class:"text-sm font-medium"},"Enabled",-1)),o(e($),{variant:s.driveMotor.enabled?"default":"destructive"},{default:a(()=>[u(r(s.driveMotor.enabled?"Yes":"No"),1)]),_:1},8,["variant"])]),t("div",Hs," Last updated: "+r(e(w)(s.driveMotor.updatedAt)),1)])])]),o(e(yt),{class:"my-6"}),t("div",null,[l[13]||(l[13]=t("h3",{class:"mb-4 font-medium"}," Cargo Door Motor ",-1)),t("div",Qs,[t("div",Zs,[t("div",{class:_(["p-3 rounded-full",s.cargoDoorMotor.direction==="OPEN"?"bg-green-100":"bg-yellow-100"])},[s.cargoDoorMotor.direction==="OPEN"?(p(),m(e(et),{key:0,class:"w-6 h-6 text-green-600"})):(p(),m(e(st),{key:1,class:"w-6 h-6 text-yellow-600"}))],2),t("div",null,[l[12]||(l[12]=t("p",{class:"font-medium"}," Door Status ",-1)),t("p",Gs,r(s.cargoDoorMotor.direction==="OPEN"?"Open":"Closed"),1)]),t("div",Xs," Last updated: "+r(e(w)(s.cargoDoorMotor.updatedAt)),1)])])])]),_:1})]),_:1}))}}),Ks={class:"w-full"},Ws=C({__name:"TabContent",props:{robotState:{}},setup(i){const s=i,d=ut(),n=ct(),l=d.query.tab??"battery";function f(k){n.replace({query:{tab:k}})}return(k,c)=>(p(),y("div",Ks,[o(e(vt),{"default-value":e(l),"onUpdate:modelValue":f},{default:a(()=>[o(e(xt),{class:"mb-4"},{default:a(()=>[o(e(V),{value:"battery"},{default:a(()=>c[0]||(c[0]=[u(" Battery ")])),_:1}),o(e(V),{value:"motors"},{default:a(()=>c[1]||(c[1]=[u(" Motors ")])),_:1}),o(e(V),{value:"sensors"},{default:a(()=>c[2]||(c[2]=[u(" Sensors ")])),_:1}),o(e(V),{value:"cargo"},{default:a(()=>c[3]||(c[3]=[u(" Cargo ")])),_:1}),o(e(V),{value:"connections"},{default:a(()=>c[4]||(c[4]=[u(" Connections ")])),_:1})]),_:1}),o(e(R),{value:"battery"},{default:a(()=>[o($e,{battery:s.robotState.battery,charge:s.robotState.charge,discharge:s.robotState.discharge},null,8,["battery","charge","discharge"])]),_:1}),o(e(R),{value:"motors"},{default:a(()=>[o(Ys,{"lift-motor":s.robotState.liftMotor,"drive-motor":s.robotState.driveMotor,"cargo-door-motor":s.robotState.cargoDoorMotor},null,8,["lift-motor","drive-motor","cargo-door-motor"])]),_:1}),o(e(R),{value:"sensors"},{default:a(()=>[o(ws,{"distance-sensor":s.robotState.distanceSensor},null,8,["distance-sensor"])]),_:1}),o(e(R),{value:"cargo"},{default:a(()=>[o(Ue,{cargo:s.robotState.cargo,"cargo-door-motor":s.robotState.cargoDoorMotor},null,8,["cargo","cargo-door-motor"])]),_:1}),o(e(R),{value:"connections"},{default:a(()=>[o(ps,{"app-connection":s.robotState.appConnection},null,8,["app-connection"])]),_:1})]),_:1},8,["default-value"])]))}}),Js={getRobotState(i){return Ct.get("/robot-state",i)}};function to(i){return nt({queryKey:["robotState"],queryFn:()=>Js.getRobotState(i==null?void 0:i.axiosOpts),refetchInterval:i==null?void 0:i.refetchInterval})}const eo={key:0,class:"flex flex-col items-center justify-center gap-4 pt-20"},so={class:"flex items-center gap-4"},oo={key:1,class:"flex flex-col items-center justify-center gap-4 pt-20"},no={class:"space-y-2 text-center"},ao={class:"text-sm text-muted-foreground"},lo={key:2,class:"flex flex-col items-center justify-center gap-4 pt-20"},ro={key:3,class:"flex flex-col w-full"},io={class:"flex items-center justify-between mb-6"},uo={class:"flex items-center gap-2"},co=1e3,wo=C({__name:"StateView",setup(i){const s=pt(co),{data:d,isPending:n,isError:l,error:f}=to({axiosOpts:{doNotShowLoading:!0},refetchInterval:s});return(k,c)=>(p(),m(ht,null,{default:a(()=>[e(n)?(p(),y("div",eo,[t("div",so,[o(e($t),{class:"w-8 h-8 animate-spin text-muted-foreground"})]),c[1]||(c[1]=t("p",{class:"text-lg text-muted-foreground"}," Loading state... ",-1))])):e(l)?(p(),y("div",oo,[o(e(g),{class:"flex flex-col items-center gap-4 p-6 text-red-500"},{default:a(()=>{var h;return[o(e(B),{class:"w-8 h-8"}),t("div",no,[c[2]||(c[2]=t("h2",{class:"text-lg font-semibold"}," Failed to load state ",-1)),t("p",ao,r(((h=e(f))==null?void 0:h.message)||"An unexpected error occurred"),1)])]}),_:1})])):e(d)?(p(),y("div",ro,[t("div",io,[c[6]||(c[6]=t("div",null,[t("h1",{class:"text-xl font-semibold tracking-tight"}," Robot Status Dashboard "),t("p",{class:"text-sm text-muted-foreground"}," The current state of the robot is continuously updated. ")],-1)),t("div",uo,[c[4]||(c[4]=t("span",{class:"whitespace-nowrap"},"Refresh rate: ",-1)),o(e(at),{modelValue:e(s),"onUpdate:modelValue":c[0]||(c[0]=h=>ft(s)?s.value=h:null)},{default:a(()=>[o(e(lt),null,{default:a(()=>[o(e(O),{class:"w-5"})]),_:1}),o(e(rt),null,{default:a(()=>[o(e(wt),null,{default:a(()=>[(p(),y(G,null,X([1e3,3e3,5e3,1e4],h=>o(e(it),{key:h,value:h},{default:a(()=>[o(e(O),null,{default:a(()=>[u(r(h/1e3),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),c[5]||(c[5]=t("span",null,"seconds",-1))])]),e(d)?(p(),m(Yt,{key:0,"robot-state":e(d)},null,8,["robot-state"])):S("",!0),e(d)?(p(),m(Ws,{key:1,"robot-state":e(d)},null,8,["robot-state"])):S("",!0)])):(p(),y("div",lo,[o(e(g),{class:"flex flex-col items-center gap-4 p-6"},{default:a(()=>[o(e(B),{class:"w-8 h-8 text-muted-foreground"}),c[3]||(c[3]=t("div",{class:"space-y-2 text-center"},[t("h2",{class:"text-lg font-semibold"}," Robot state not found "),t("p",{class:"text-sm text-muted-foreground"}," The robot state appears to be empty ")],-1))]),_:1})]))]),_:1}))}});export{wo as default};
