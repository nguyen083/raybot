import{r as j,e as V,b as B,f as M,c as I,d as z,_ as W,g as q,h as U,i as H,j as X,k as Y,l as Q,a as J,u as E,P as Z,m as ee}from"./PopperContent-CrxxguU_.js";import{p as P,P as S,d as _,Q as te,r as C,a as h,D as oe,c as m,o as b,w as y,u,S as K,b as $,m as k,T as ae,U as ne,V as se,i as re,t as ie,N as le,k as ue,n as R,g as A}from"./index-DCNzhtOK.js";import{P as de,a as ce}from"./createLucideIcon-Dgyr7DO4.js";function pe(t,o){const e=j(!1,300),a=P(null),n=V();function l(){a.value=null,e.value=!1}function r(d,c){const f=d.currentTarget,s={x:d.clientX,y:d.clientY},i=fe(s,f.getBoundingClientRect()),p=ve(s,i),v=ye(c.getBoundingClientRect()),T=he([...p,...v]);a.value=T,e.value=!0}return S(d=>{if(t.value&&o.value){const c=s=>r(s,o.value),f=s=>r(s,t.value);t.value.addEventListener("pointerleave",c),o.value.addEventListener("pointerleave",f),d(()=>{var s,i;(s=t.value)==null||s.removeEventListener("pointerleave",c),(i=o.value)==null||i.removeEventListener("pointerleave",f)})}}),S(d=>{var c;if(a.value){const f=s=>{var g,w;if(!a.value||!(s.target instanceof HTMLElement))return;const i=s.target,p={x:s.clientX,y:s.clientY},v=((g=t.value)==null?void 0:g.contains(i))||((w=o.value)==null?void 0:w.contains(i)),T=!ge(p,a.value),x=!!i.closest("[data-grace-area-trigger]");v?l():(T||x)&&(l(),n.trigger())};(c=t.value)==null||c.ownerDocument.addEventListener("pointermove",f),d(()=>{var s;return(s=t.value)==null?void 0:s.ownerDocument.removeEventListener("pointermove",f)})}}),{isPointerInTransit:e,onPointerExit:n.on}}function fe(t,o){const e=Math.abs(o.top-t.y),a=Math.abs(o.bottom-t.y),n=Math.abs(o.right-t.x),l=Math.abs(o.left-t.x);switch(Math.min(e,a,n,l)){case l:return"left";case n:return"right";case e:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ve(t,o,e=5){const a=[];switch(o){case"top":a.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":a.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":a.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":a.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return a}function ye(t){const{top:o,right:e,bottom:a,left:n}=t;return[{x:n,y:o},{x:e,y:o},{x:e,y:a},{x:n,y:a}]}function ge(t,o){const{x:e,y:a}=t;let n=!1;for(let l=0,r=o.length-1;l<o.length;r=l++){const d=o[l].x,c=o[l].y,f=o[r].x,s=o[r].y;c>a!=s>a&&e<(f-d)*(a-c)/(s-c)+d&&(n=!n)}return n}function he(t){const o=t.slice();return o.sort((e,a)=>e.x<a.x?-1:e.x>a.x?1:e.y<a.y?-1:e.y>a.y?1:0),me(o)}function me(t){if(t.length<=1)return t.slice();const o=[];for(let a=0;a<t.length;a++){const n=t[a];for(;o.length>=2;){const l=o[o.length-1],r=o[o.length-2];if((l.x-r.x)*(n.y-r.y)>=(l.y-r.y)*(n.x-r.x))o.pop();else break}o.push(n)}o.pop();const e=[];for(let a=t.length-1;a>=0;a--){const n=t[a];for(;e.length>=2;){const l=e[e.length-1],r=e[e.length-2];if((l.x-r.x)*(n.y-r.y)>=(l.y-r.y)*(n.x-r.x))e.pop();else break}e.push(n)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}const N="tooltip.open",[F,be]=I("TooltipProvider"),$e=_({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{default:700},skipDelayDuration:{default:300},disableHoverableContent:{type:Boolean,default:!1},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean,default:!1}},setup(t){const o=t,{delayDuration:e,skipDelayDuration:a,disableHoverableContent:n,disableClosingTrigger:l,ignoreNonKeyboardFocus:r,disabled:d}=te(o);B();const c=P(!0),f=P(!1),{start:s,stop:i}=M(()=>{c.value=!0},a,{immediate:!1});return be({isOpenDelayed:c,delayDuration:e,onOpen(){i(),c.value=!1},onClose(){s()},isPointerInTransitRef:f,disableHoverableContent:n,disableClosingTrigger:l,disabled:d,ignoreNonKeyboardFocus:r}),(p,v)=>C(p.$slots,"default")}}),[L,_e]=I("TooltipRoot"),Ce=_({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:o}){const e=t,a=o;B();const n=F(),l=h(()=>e.disableHoverableContent??n.disableHoverableContent.value),r=h(()=>e.disableClosingTrigger??n.disableClosingTrigger.value),d=h(()=>e.disabled??n.disabled.value),c=h(()=>e.delayDuration??n.delayDuration.value),f=h(()=>e.ignoreNonKeyboardFocus??n.ignoreNonKeyboardFocus.value),s=z(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0});oe(s,D=>{n.onClose&&(D?(n.onOpen(),document.dispatchEvent(new CustomEvent(N))):n.onClose())});const i=P(!1),p=P(),v=h(()=>s.value?i.value?"delayed-open":"instant-open":"closed"),{start:T,stop:x}=M(()=>{i.value=!0,s.value=!0},c,{immediate:!1});function g(){x(),i.value=!1,s.value=!0}function w(){x(),s.value=!1}function O(){T()}return _e({contentId:"",open:s,stateAttribute:v,trigger:p,onTriggerChange(D){p.value=D},onTriggerEnter(){n.isOpenDelayed.value?O():g()},onTriggerLeave(){l.value?w():x()},onOpen:g,onClose:w,disableHoverableContent:l,disableClosingTrigger:r,disabled:d,ignoreNonKeyboardFocus:f}),(D,Be)=>(b(),m(u(W),null,{default:y(()=>[C(D.$slots,"default",{open:u(s)})]),_:3}))}}),Te=_({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t,e=L(),a=F();e.contentId||(e.contentId=q(void 0,"reka-tooltip-content"));const{forwardRef:n,currentElement:l}=B(),r=P(!1),d=P(!1),c=h(()=>e.disabled.value?{}:{click:x,focus:v,pointermove:i,pointerleave:p,pointerdown:s,blur:T});K(()=>{e.onTriggerChange(l.value)});function f(){setTimeout(()=>{r.value=!1},1)}function s(){r.value=!0,document.addEventListener("pointerup",f,{once:!0})}function i(g){g.pointerType!=="touch"&&!d.value&&!a.isPointerInTransitRef.value&&(e.onTriggerEnter(),d.value=!0)}function p(){e.onTriggerLeave(),d.value=!1}function v(g){var w,O;r.value||e.ignoreNonKeyboardFocus.value&&!((O=(w=g.target).matches)!=null&&O.call(w,":focus-visible"))||e.onOpen()}function T(){e.onClose()}function x(){e.disableClosingTrigger.value||e.onClose()}return(g,w)=>(b(),m(u(U),{"as-child":"",reference:g.reference},{default:y(()=>[$(u(de),k({ref:u(n),"aria-describedby":u(e).open.value?u(e).contentId:void 0,"data-state":u(e).stateAttribute.value,as:g.as,"as-child":o.asChild,"data-grace-area-trigger":""},ae(c.value)),{default:y(()=>[C(g.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),G=_({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,a=o,n=L(),{forwardRef:l}=B(),r=ne(),d=h(()=>{var s;return(s=r.default)==null?void 0:s.call(r,{})}),c=h(()=>{var p;if(e.ariaLabel)return e.ariaLabel;let s="";function i(v){typeof v.children=="string"&&v.type!==se?s+=v.children:Array.isArray(v.children)&&v.children.forEach(T=>i(T))}return(p=d.value)==null||p.forEach(v=>i(v)),s}),f=h(()=>{const{ariaLabel:s,...i}=e;return i});return K(()=>{H(window,"scroll",s=>{const i=s.target;i!=null&&i.contains(n.trigger.value)&&n.onClose()}),H(window,N,n.onClose)}),(s,i)=>(b(),m(u(Q),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:i[0]||(i[0]=p=>a("escapeKeyDown",p)),onPointerDownOutside:i[1]||(i[1]=p=>{var v;u(n).disableClosingTrigger.value&&((v=u(n).trigger.value)!=null&&v.contains(p.target))&&p.preventDefault(),a("pointerDownOutside",p)}),onFocusOutside:i[2]||(i[2]=le(()=>{},["prevent"])),onDismiss:i[3]||(i[3]=p=>u(n).onClose())},{default:y(()=>[$(u(X),k({ref:u(l),"data-state":u(n).stateAttribute.value},{...s.$attrs,...f.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:y(()=>[C(s.$slots,"default"),$(u(Y),{id:u(n).contentId,role:"tooltip"},{default:y(()=>[re(ie(c.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),we=_({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const e=J(t),{forwardRef:a,currentElement:n}=B(),{trigger:l,onClose:r}=L(),d=F(),{isPointerInTransit:c,onPointerExit:f}=pe(l,n);return d.isPointerInTransitRef=c,f(()=>{r()}),(s,i)=>(b(),m(G,k({ref:u(a)},u(e)),{default:y(()=>[C(s.$slots,"default")]),_:3},16))}}),xe=_({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,a=o,n=L(),l=E(e,a),{forwardRef:r}=B();return(d,c)=>(b(),m(u(Z),{present:d.forceMount||u(n).open.value},{default:y(()=>[(b(),m(ue(u(n).disableHoverableContent.value?G:we),k({ref:u(r)},u(l)),{default:y(()=>[C(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Pe=_({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const o=t;return(e,a)=>(b(),m(u(ee),R(A(o)),{default:y(()=>[C(e.$slots,"default")]),_:3},16))}}),Le=_({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:o}){const n=E(t,o);return(l,r)=>(b(),m(u(Ce),R(A(u(n))),{default:y(()=>[C(l.$slots,"default")]),_:3},16))}}),Ee=_({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:o}){const e=t,a=o,n=h(()=>{const{class:r,...d}=e;return d}),l=E(n,a);return(r,d)=>(b(),m(u(Pe),null,{default:y(()=>[$(u(xe),k({...u(l),...r.$attrs},{class:u(ce)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:y(()=>[C(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Re=_({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const o=t;return(e,a)=>(b(),m(u(Te),R(A(o)),{default:y(()=>[C(e.$slots,"default")]),_:3},16))}});export{Le as _,Re as a,Ee as b,$e as c};
