import{_ as D}from"./index-BPj9B9dy.js";import{u as h,g as $e,h as we}from"./index-BTkZdupE.js";import{u as Ee,a as ae,b as ne,_ as Oe,c as Ae,d as ke,L as q,g as U,e as W,f as H,h as K,i as Re,C as Se,A as De,Q as Le,S as je,j as z,k as Me,l as oe,m as le,E as ie,n as de,o as j,t as Ie,p as Ne,q as Ve,r as Pe,s as Te,v as Fe,w as Qe,x as Be}from"./PaginationPrev.vuevuetypescriptsetuptruelang-C0Ycye9T.js";import{f as Ge,a as L,A as he,M as qe,P as V,_ as Ue}from"./date-DAS9jxzP.js";import{d as R,c as C,o as l,w as a,r as J,m as M,u as e,n as re,g as me,I as We,J as He,K as Ke,L as ze,D as se,b as t,f as y,y as O,i as c,e as s,k as X,t as g,R as I,M as v,a as ue,N,O as ce,p as B,v as Je,F as Xe,B as pe}from"./index-DS9d49-V.js";import{_ as Y,a as Z}from"./CardContent.vuevuetypescriptsetuptruelang-BfvgMg3b.js";import{_ as fe}from"./CardFooter.vuevuetypescriptsetuptruelang-DXIVjxz2.js";import{_ as ee,a as te}from"./CardTitle.vuevuetypescriptsetuptruelang-BIF7g6Cc.js";import{z as i,u as Ye,F as P,_ as T,a as F,b as Ze,c as Q,d as G,t as et}from"./vee-validate-zod-28-Ua9AI.js";/* empty css                                                              */import{_ as _e,a as Ce,b as ge,c as ve,d as E}from"./SelectValue.vuevuetypescriptsetuptruelang-BFfflIII.js";import{P as tt,a as st}from"./createLucideIcon-BNbeFIQN.js";import{b as at}from"./PopperContent-BDfdC-3x.js";import{L as nt,_ as ot}from"./http-VlAZSTuv.js";import{c as lt,_ as it,a as dt,b as rt}from"./TooltipTrigger.vuevuetypescriptsetuptruelang-BtiCUzKM.js";import"./useMutation-Cpcdwd3M.js";const mt=R({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(x){const p=x;return(r,_)=>(l(),C(e(tt),M(p,{role:"separator","aria-orientation":"horizontal"}),{default:a(()=>[J(r.$slots,"default")]),_:3},16))}}),ut=R({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(x){const p=x;return at(),(r,_)=>(l(),C(e(mt),re(me(p)),{default:a(()=>[J(r.$slots,"default")]),_:3},16))}}),ct=R({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(x){const p=x;return(r,_)=>(l(),C(e(lt),re(me(p)),{default:a(()=>[J(r.$slots,"default")]),_:3},16))}}),pt={key:0},ft={class:"flex items-center justify-center py-8"},_t={key:1},Ct={key:2,class:"mt-6 space-y-6"},gt={class:"flex items-center justify-between"},vt={class:"flex items-center gap-2"},yt={class:"text-sm font-medium"},xt={class:"grid grid-cols-2 gap-4"},bt={class:"font-medium"},$t={class:"flex flex-col items-start gap-2"},wt={key:0},Et={class:"font-medium"},Ot={class:"space-y-2"},At={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},kt={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},Rt={key:0,class:"space-y-2"},St={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},Dt={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},Lt={key:1,class:"space-y-2"},jt={class:"p-3 text-red-500 rounded-md bg-red-500/10"},Mt={class:"space-y-2"},It={class:"space-y-3"},Nt={class:"flex justify-between text-sm"},Vt={key:0,class:"flex justify-between text-sm"},Pt={key:1,class:"flex justify-between text-sm"},Tt={class:"flex justify-between text-sm"},Ft={class:"flex gap-2 pt-4"},Qt=1e3,Bt=R({__name:"CommandDetailSheet",props:We({commandId:{}},{isOpen:{type:Boolean,required:!0},isOpenModifiers:{}}),emits:["update:isOpen"],setup(x){const p=x,r=He(x,"isOpen"),_=Ke(p,"commandId"),{data:o,isPending:f,isError:A,refetch:b}=Ee(_,{axiosOpts:{doNotShowLoading:!0}}),{mutate:m}=ae(),{mutate:k}=ne(),{openConfirmation:S}=h(),{pause:u,resume:n}=ze(()=>{b()},Qt,{immediate:!1});se(o,$=>{$&&["SUCCEEDED","FAILED","CANCELED"].includes($.status)?u():n()},{immediate:!0}),se(r,$=>{$?n():u()},{immediate:!0});function w(){S({title:"Remove command",description:"Are you sure you want to remove this command from queue?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{m(p.commandId,{onSuccess:()=>{v.success("Command removed from queue")},onError:$=>{$ instanceof I?$.errorCode==="command.inProcessingCanNotBeDeleted"?v.error("Command is being processed and cannot be deleted"):v.error($.message):v.error($.message)}})},onCancel:()=>{}})}function xe(){S({title:"Cancel command",description:"Are you sure you want to cancel this command?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{k(void 0,{onSuccess:()=>{v.success("Command cancelled successfully")},onError:$=>{$ instanceof I?$.errorCode==="command.noCommandBeingProcessed"?v.error("No command is being processed"):v.error($.message):v.error($.message)}})},onCancel:()=>{}})}return($,d)=>(l(),C(e($e),{open:r.value,"onUpdate:open":d[0]||(d[0]=be=>r.value=be)},{default:a(()=>[t(e(we),{class:"max-h-screen overflow-y-auto sm:max-w-xl"},{default:a(()=>[t(e(Oe),null,{default:a(()=>[t(e(Ae),null,{default:a(()=>d[1]||(d[1]=[c(" Command detail ")])),_:1}),t(e(ke),null,{default:a(()=>d[2]||(d[2]=[c(" Real-time information about the selected command ")])),_:1})]),_:1}),e(f)?(l(),y("div",pt,[s("div",ft,[t(e(q),{class:"w-8 h-8 animate-spin"})])])):e(A)?(l(),y("div",_t,d[3]||(d[3]=[s("div",{class:"flex items-center justify-center py-8"},[s("p",{class:"text-sm text-muted-foreground"}," Failed to load command details ")],-1)]))):e(o)?(l(),y("div",Ct,[s("div",gt,[s("div",vt,[(l(),C(X(e(U)(e(o).type)))),s("span",yt,g(e(W)(e(o).type)),1)]),t(H,{status:e(o).status},null,8,["status"])]),s("div",xt,[s("div",null,[d[4]||(d[4]=s("p",{class:"text-sm text-muted-foreground"}," ID ",-1)),s("p",bt,g(e(o).id),1)]),s("div",$t,[d[5]||(d[5]=s("p",{class:"text-sm text-muted-foreground"}," Source ",-1)),t(K,{source:e(o).source},null,8,["source"])]),e(o).completedAt&&e(o).startedAt?(l(),y("div",wt,[d[6]||(d[6]=s("p",{class:"text-sm text-muted-foreground"}," Duration ",-1)),s("p",Et,g(e(Ge)((new Date(e(o).completedAt).getTime()-new Date(e(o).startedAt).getTime())/1e3)),1)])):O("",!0)]),s("div",Ot,[d[7]||(d[7]=s("p",{class:"text-sm font-medium"}," Command Inputs ",-1)),s("div",At,[s("span",kt,g(JSON.stringify(e(o).inputs,null,4)),1)])]),e(o).status!=="PROCESSING"&&e(o).status!=="QUEUED"?(l(),y("div",Rt,[d[8]||(d[8]=s("p",{class:"text-sm font-medium"}," Command Outputs ",-1)),s("div",St,[s("span",Dt,g(JSON.stringify(e(o).outputs,null,4)),1)])])):O("",!0),e(o).error?(l(),y("div",Lt,[d[9]||(d[9]=s("p",{class:"text-sm font-medium text-red-500"}," Error ",-1)),s("div",jt,g(e(o).error),1)])):O("",!0),s("div",Mt,[d[14]||(d[14]=s("p",{class:"text-sm font-medium"}," Timeline ",-1)),s("div",It,[s("div",Nt,[d[10]||(d[10]=s("span",{class:"text-muted-foreground"},"Created",-1)),s("span",null,g(e(L)(e(o).createdAt)),1)]),e(o).startedAt?(l(),y("div",Vt,[d[11]||(d[11]=s("span",{class:"text-muted-foreground"},"Started",-1)),s("span",null,g(e(L)(e(o).startedAt)),1)])):O("",!0),e(o).completedAt?(l(),y("div",Pt,[d[12]||(d[12]=s("span",{class:"text-muted-foreground"},"Completed",-1)),s("span",null,g(e(L)(e(o).completedAt)),1)])):O("",!0),s("div",Tt,[d[13]||(d[13]=s("span",{class:"text-muted-foreground"},"Last Updated",-1)),s("span",null,g(e(L)(e(o).updatedAt)),1)])])]),s("div",Ft,[e(o).status==="QUEUED"?(l(),C(e(D),{key:0,variant:"destructive",class:"flex-1",onClick:w},{default:a(()=>d[15]||(d[15]=[c(" Remove from queue ")])),_:1})):e(o).status==="PROCESSING"?(l(),C(e(D),{key:1,variant:"destructive",class:"flex-1",onClick:xe},{default:a(()=>d[16]||(d[16]=[c(" Stop execution ")])),_:1})):(l(),C(e(D),{key:2,variant:"outline",class:"flex-1",disabled:""},{default:a(()=>d[17]||(d[17]=[c(" Re-run ")])),_:1}))])])):O("",!0)]),_:1})]),_:1},8,["open"]))}}),Gt=i.discriminatedUnion("type",[i.object({type:i.literal("STOP_MOVEMENT"),inputs:i.object({})}),i.object({type:i.literal("MOVE_TO"),inputs:i.object({location:i.string()})}),i.object({type:i.literal("MOVE_FORWARD"),inputs:i.object({})}),i.object({type:i.literal("MOVE_BACKWARD"),inputs:i.object({})}),i.object({type:i.literal("CARGO_OPEN"),inputs:i.object({})}),i.object({type:i.literal("CARGO_CLOSE"),inputs:i.object({})}),i.object({type:i.literal("CARGO_LIFT"),inputs:i.object({})}),i.object({type:i.literal("CARGO_LOWER"),inputs:i.object({})}),i.object({type:i.literal("CARGO_CHECK_QR"),inputs:i.object({qrCode:i.string()})}),i.object({type:i.literal("SCAN_LOCATION"),inputs:i.object({})}),i.object({type:i.literal("WAIT"),inputs:i.object({durationMs:i.number()})})]),ht={class:"space-y-4"},qt={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2"},Wt={class:"flex items-center gap-2"},Ht={class:"flex items-center gap-2"},Kt={class:"flex items-center gap-2"},zt={class:"flex items-center gap-2"},Jt={class:"flex items-center gap-2"},Xt={class:"flex items-center gap-2"},Yt={class:"flex items-center gap-2"},Zt={class:"flex items-center gap-2"},es={class:"flex items-center gap-2"},ts=R({__name:"CreateCommandForm",setup(x){const{values:p,handleSubmit:r,setFieldValue:_,resetForm:o}=Ye({validationSchema:et(Gt),initialValues:{type:"STOP_MOVEMENT",inputs:{}}}),f=ue(()=>p.type);function A(u){_("type",u)}const{mutate:b,isPending:m}=Re(),k=r(u=>{b(u,{onSuccess:()=>{v.success("Command created successfully")},onError:n=>{n instanceof I?v.error({title:n.errorCode,message:n.message}):v.error("Failed to create command")}})});function S(){o()}return(u,n)=>(l(),C(e(Y),{class:"sticky top-6"},{default:a(()=>[t(e(ee),null,{default:a(()=>[t(e(te),null,{default:a(()=>n[2]||(n[2]=[c("Create command")])),_:1})]),_:1}),s("form",{onSubmit:n[1]||(n[1]=N((...w)=>e(k)&&e(k)(...w),["prevent"]))},[t(e(Z),null,{default:a(()=>[s("div",ht,[t(e(P),{name:"type"},{default:a(()=>[t(e(T),null,{default:a(()=>[t(e(F),null,{default:a(()=>n[3]||(n[3]=[c("Command type")])),_:1}),t(e(_e),{disabled:e(m),"model-value":e(f),"onUpdate:modelValue":n[0]||(n[0]=w=>A(w))},{default:a(()=>[t(e(Ze),null,{default:a(()=>[t(e(Ce),null,{default:a(()=>[t(e(ge),{placeholder:"Select command type"})]),_:1})]),_:1}),t(e(ve),null,{default:a(()=>[t(e(E),{value:"STOP_MOVEMENT"},{default:a(()=>[s("div",qt,[t(e(Se),{class:"w-4 h-4"}),n[4]||(n[4]=s("span",null,"Stop Movement",-1))])]),_:1}),t(e(E),{value:"MOVE_FORWARD"},{default:a(()=>[s("div",Ut,[t(e(De),{class:"w-4 h-4"}),n[5]||(n[5]=s("span",null,"Move Forward",-1))])]),_:1}),t(e(E),{value:"MOVE_BACKWARD"},{default:a(()=>[s("div",Wt,[t(e(he),{class:"w-4 h-4"}),n[6]||(n[6]=s("span",null,"Move Backward",-1))])]),_:1}),t(e(E),{value:"MOVE_TO"},{default:a(()=>[s("div",Ht,[t(e(qe),{class:"w-4 h-4"}),n[7]||(n[7]=s("span",null,"Move To",-1))])]),_:1}),t(e(E),{value:"CARGO_OPEN"},{default:a(()=>[s("div",Kt,[t(e(V),{class:"w-4 h-4"}),n[8]||(n[8]=s("span",null,"Cargo Open",-1))])]),_:1}),t(e(E),{value:"CARGO_CLOSE"},{default:a(()=>[s("div",zt,[t(e(V),{class:"w-4 h-4"}),n[9]||(n[9]=s("span",null,"Cargo Close",-1))])]),_:1}),t(e(E),{value:"CARGO_LIFT"},{default:a(()=>[s("div",Jt,[t(e(V),{class:"w-4 h-4"}),n[10]||(n[10]=s("span",null,"Cargo Lift",-1))])]),_:1}),t(e(E),{value:"CARGO_LOWER"},{default:a(()=>[s("div",Xt,[t(e(V),{class:"w-4 h-4"}),n[11]||(n[11]=s("span",null,"Cargo Lower",-1))])]),_:1}),t(e(E),{value:"CARGO_CHECK_QR"},{default:a(()=>[s("div",Yt,[t(e(Le),{class:"w-4 h-4"}),n[12]||(n[12]=s("span",null,"Cargo Check QR",-1))])]),_:1}),t(e(E),{value:"SCAN_LOCATION"},{default:a(()=>[s("div",Zt,[t(e(je),{class:"w-4 h-4"}),n[13]||(n[13]=s("span",null,"Scan Location",-1))])]),_:1}),t(e(E),{value:"WAIT"},{default:a(()=>[s("div",es,[t(e(z),{class:"w-4 h-4"}),n[14]||(n[14]=s("span",null,"Wait",-1))])]),_:1})]),_:1})]),_:1},8,["disabled","model-value"]),t(e(Q))]),_:1})]),_:1}),e(f)==="MOVE_TO"?(l(),C(e(P),{key:0,name:"inputs.location"},{default:a(({componentField:w})=>[t(e(T),null,{default:a(()=>[t(e(F),null,{default:a(()=>n[15]||(n[15]=[c("Location")])),_:1}),t(e(G),M(w,{placeholder:"Enter location"}),null,16),t(e(Q))]),_:2},1024)]),_:1})):e(f)==="CARGO_CHECK_QR"?(l(),C(e(P),{key:1,name:"inputs.qrCode"},{default:a(({componentField:w})=>[t(e(T),null,{default:a(()=>[t(e(F),null,{default:a(()=>n[16]||(n[16]=[c("QR Code")])),_:1}),t(e(G),M(w,{placeholder:"Enter QR code"}),null,16),t(e(Q))]),_:2},1024)]),_:1})):e(f)==="WAIT"?(l(),C(e(P),{key:2,name:"inputs.durationMs"},{default:a(({componentField:w})=>[t(e(T),null,{default:a(()=>[t(e(F),null,{default:a(()=>n[17]||(n[17]=[c("Duration (ms)")])),_:1}),t(e(G),M(w,{type:"number",placeholder:"Enter duration"}),null,16),t(e(Q))]),_:2},1024)]),_:1})):O("",!0)])]),_:1}),t(e(fe),{class:"flex flex-col gap-2"},{default:a(()=>[t(e(D),{type:"submit",class:"w-full",disabled:e(m)},{default:a(()=>[e(m)?(l(),C(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):O("",!0),n[18]||(n[18]=c(" Add command "))]),_:1},8,["disabled"]),t(e(D),{type:"button",variant:"outline",class:"w-full",disabled:e(m),onClick:S},{default:a(()=>n[19]||(n[19]=[c(" Clear form ")])),_:1},8,["disabled"])]),_:1})],32)]),_:1}))}}),ye=R({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(x){const p=x,r=ue(()=>{const{class:_,...o}=p;return o});return(_,o)=>(l(),C(e(ut),M(r.value,{class:e(st)("-mx-1 my-1 h-px bg-muted",p.class)}),null,16,["class"]))}}),ss={key:0},as={class:"flex items-center justify-center gap-2 p-9"},ns={class:"flex items-center justify-between"},os={class:"flex items-center gap-2 font-medium"},ls={class:"flex items-center gap-2 text-sm text-muted-foreground"},is={key:0,class:"text-sm"},ds={key:1,class:"text-sm"},rs=1e3,ms=R({__name:"CurrentProcessingCommandCard",emits:["viewDetails"],setup(x,{emit:p}){const r=p,{openConfirmation:_}=h(),{data:o,refetch:f,isError:A}=Me({axiosOpts:{doNotShowLoading:!0}}),{mutate:b,isPending:m}=ne(),k=setInterval(f,rs);ce(()=>{clearInterval(k)});function S(){_({title:"Cancel command",description:"Are you sure you want to cancel this command?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{b(void 0,{onSuccess:()=>{v.success("Command cancelled successfully")},onError:u=>{u instanceof I?u.errorCode==="command.noCommandBeingProcessed"?v.error("No command is being processed"):v.error(u.message):v.error(u.message)}})},onCancel:()=>{}})}return(u,n)=>e(o)&&!e(A)?(l(),C(e(Y),{key:0},{default:a(()=>[t(e(ee),{class:"pb-3"},{default:a(()=>[t(e(te),{class:"flex items-center justify-between"},{default:a(()=>[n[3]||(n[3]=s("span",null,"Current Command",-1)),t(H,{status:e(o).status},null,8,["status"])]),_:1})]),_:1}),t(e(Z),null,{default:a(()=>[e(m)?(l(),y("div",ss,[s("div",as,[t(e(nt),{class:"w-4 h-4 animate-spin"}),n[4]||(n[4]=s("span",null,"Cancelling command...",-1))])])):(l(),y("div",{key:1,class:"p-4 space-y-3 border rounded-lg cursor-pointer bg-muted/50",onClick:n[2]||(n[2]=w=>r("viewDetails",e(o).id))},[s("div",ns,[s("div",os,[(l(),C(X(e(U)(e(o).type)),{class:"w-5 h-5"})),s("span",null,g(e(W)(e(o).type)),1)]),s("div",{class:"flex items-center gap-2",onClick:n[1]||(n[1]=N(()=>{},["stop"]))},[t(K,{source:e(o).source},null,8,["source"]),t(e(oe),null,{default:a(()=>[t(e(le),{"as-child":""},{default:a(()=>[t(e(D),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:a(()=>[t(e(ie),{class:"w-4 h-4"})]),_:1})]),_:1}),t(e(de),{align:"end"},{default:a(()=>[t(e(j),{class:"cursor-pointer",onClick:n[0]||(n[0]=N(w=>r("viewDetails",e(o).id),["stop"]))},{default:a(()=>n[5]||(n[5]=[c(" View details ")])),_:1}),t(e(ye)),t(e(j),{class:"text-red-500 cursor-pointer",onClick:S},{default:a(()=>n[6]||(n[6]=[c(" Cancel command ")])),_:1})]),_:1})]),_:1})])]),s("div",ls,[t(e(z),{class:"w-4 h-4"}),s("span",null,"Started at: "+g(e(o).startedAt?e(L)(e(o).startedAt):"N/A"),1)]),e(o).type==="MOVE_TO"?(l(),y("div",is,[n[7]||(n[7]=s("span",{class:"font-medium"},"Location: ",-1)),c(" "+g(e(o).inputs.location),1)])):e(o).type==="CARGO_CHECK_QR"?(l(),y("div",ds,[n[8]||(n[8]=s("span",{class:"font-medium"},"QR Code: ",-1)),c(" "+g(e(o).inputs.qrCode),1)])):O("",!0)]))]),_:1})]),_:1})):O("",!0)}}),us={class:"flex items-center justify-between"},cs={class:"flex items-center gap-2 font-medium"},ps={class:"flex items-center gap-2 text-sm text-muted-foreground"},fs={key:0,class:"text-sm"},_s={key:1,class:"text-sm"},Cs=R({__name:"QueuedCommandItem",props:{command:{}},emits:["viewDetails"],setup(x,{emit:p}){const r=x,_=p,{openConfirmation:o}=h(),{mutate:f}=ae();function A(){o({title:"Remove command",description:"Are you sure you want to remove this command from queue?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{f(r.command.id,{onSuccess:()=>{v.success("Command removed from queue")},onError:b=>{b instanceof I?b.errorCode==="command.inProcessingCanNotBeDeleted"?v.error("Command is being processed and cannot be deleted"):v.error(b.message):v.error(b.message)}})},onCancel:()=>{}})}return(b,m)=>(l(),y("div",{class:"p-4 space-y-3 transition-colors border rounded-lg cursor-pointer bg-muted/30 border-border/50 hover:border-border",onClick:m[3]||(m[3]=k=>_("viewDetails",r.command.id))},[s("div",us,[s("div",cs,[(l(),C(X(e(U)(r.command.type)),{class:"w-5 h-5"})),s("span",null,g(e(W)(r.command.type)),1)]),s("div",{class:"flex items-center gap-2",onClick:m[2]||(m[2]=N(()=>{},["stop"]))},[t(H,{status:r.command.status},null,8,["status"]),t(K,{source:r.command.source},null,8,["source"]),t(e(oe),null,{default:a(()=>[t(e(le),{"as-child":""},{default:a(()=>[t(e(D),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:a(()=>[t(e(ie),{"class-name":"h-4 w-4"})]),_:1})]),_:1}),t(e(de),{align:"end",onClick:m[1]||(m[1]=N(()=>{},["stop"]))},{default:a(()=>[t(e(j),{onClick:m[0]||(m[0]=k=>_("viewDetails",r.command.id))},{default:a(()=>m[4]||(m[4]=[c(" View details ")])),_:1}),t(e(j),null,{default:a(()=>m[5]||(m[5]=[c("Edit command")])),_:1}),t(e(ye)),t(e(j),{class:"text-red-500",onClick:A},{default:a(()=>m[6]||(m[6]=[c(" Remove from queue ")])),_:1})]),_:1})]),_:1})])]),s("div",ps,[t(e(z),{class:"w-4 h-4"}),s("span",null,"Created "+g(e(Ie)(r.command.createdAt)),1)]),r.command.type==="MOVE_TO"?(l(),y("div",fs,[m[7]||(m[7]=s("span",{class:"font-medium"},"Location: ",-1)),c(" "+g(b.command.inputs.location),1)])):r.command.type==="CARGO_CHECK_QR"?(l(),y("div",_s,[m[8]||(m[8]=s("span",{class:"font-medium"},"QR Code: ",-1)),c(" "+g(b.command.inputs.qrCode),1)])):O("",!0)]))}}),gs={key:1,class:"py-6 text-center text-muted-foreground"},vs={class:"flex items-center gap-1 text-sm text-muted-foreground"},ys=2e3,xs=R({__name:"WaitingCommandList",emits:["viewDetails"],setup(x,{emit:p}){const r=p,_=B(1),o=B(5),{data:f,refetch:A}=Ne(_,o,{axiosOpts:{doNotShowLoading:!0}});function b(){_.value=1}function m(S){_.value=S}const k=setInterval(A,ys);return ce(()=>{clearInterval(k)}),(S,u)=>e(f)?(l(),C(e(Y),{key:0},{default:a(()=>[t(e(ee),{class:"pb-3"},{default:a(()=>[t(e(te),{class:"flex items-center justify-between"},{default:a(()=>[u[1]||(u[1]=s("span",null,"Waiting Commands",-1)),t(e(Ue),{variant:"outline"},{default:a(()=>[c(g(e(f).totalItems)+" commands ",1)]),_:1})]),_:1})]),_:1}),t(e(Z),{class:"space-y-3"},{default:a(()=>[e(f).totalItems>0?(l(!0),y(Xe,{key:0},Je(e(f).items,n=>(l(),C(Cs,{key:n.id,command:n,onViewDetails:w=>r("viewDetails",n.id)},null,8,["command","onViewDetails"]))),128)):(l(),y("div",gs," No commands in queue "))]),_:1}),t(e(fe),{class:"flex items-center justify-between pt-4 border-t"},{default:a(()=>[s("div",vs,[u[5]||(u[5]=s("span",{class:"text-sm sr-only sm:not-sr-only"}," Items per page: ",-1)),t(e(_e),{modelValue:e(o),"onUpdate:modelValue":[u[0]||(u[0]=n=>pe(o)?o.value=n:null),b]},{default:a(()=>[t(e(Ce),{class:"w-16 h-8 ml-2"},{default:a(()=>[t(e(ge),{placeholder:"5"})]),_:1}),t(e(ve),null,{default:a(()=>[t(e(E),{value:"5"},{default:a(()=>u[2]||(u[2]=[c(" 5 ")])),_:1}),t(e(E),{value:"10"},{default:a(()=>u[3]||(u[3]=[c(" 10 ")])),_:1}),t(e(E),{value:"20"},{default:a(()=>u[4]||(u[4]=[c(" 20 ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(e(Ve),{"sibling-count":1,"items-per-page":e(o),total:e(f).totalItems,"default-page":e(_),"onUpdate:page":m},{default:a(()=>[t(e(Pe),{class:"flex items-center gap-1"},{default:a(()=>[t(e(Te)),t(e(Fe)),t(e(Qe)),t(e(Be))]),_:1})]),_:1},8,["items-per-page","total","default-page"])]),_:1})]),_:1})):O("",!0)}}),bs={class:"flex items-center justify-between"},$s={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},ws={class:"space-y-6 md:col-span-2"},Qs=R({__name:"CommandQueueView",setup(x){const p=B(!1),r=B(null);function _(o){r.value=o,p.value=!0}return(o,f)=>(l(),C(ot,null,{default:a(()=>[s("div",bs,[f[2]||(f[2]=s("div",null,[s("h1",{class:"text-xl font-semibold tracking-tight"}," Robot command queue "),s("p",{class:"text-sm text-muted-foreground"}," Manage and monitor robot commands in real-time ")],-1)),t(e(ct),null,{default:a(()=>[t(e(it),null,{default:a(()=>[t(e(dt),{"as-child":""},{default:a(()=>[t(e(D),{variant:"outline",size:"icon"},{default:a(()=>[t(e(q),{class:"w-4 h-4 animate-spin"})]),_:1})]),_:1}),t(e(rt),null,{default:a(()=>f[1]||(f[1]=[s("p",null,"Refreshing in real-time",-1)])),_:1})]),_:1})]),_:1})]),s("div",$s,[s("div",ws,[t(ms,{onViewDetails:_}),t(xs,{onViewDetails:_})]),s("div",null,[t(ts)])]),e(r)?(l(),C(Bt,{key:0,"is-open":e(p),"onUpdate:isOpen":f[0]||(f[0]=A=>pe(p)?p.value=A:null),"command-id":e(r)},null,8,["is-open","command-id"])):O("",!0)]),_:1}))}});export{Qs as default};
