import{u as te,C as se,a as ne,b as ue,c as de,d as oe,e as ie,G as re,_ as ee,f as fe,g as me,H as pe,h as be,i as _e,j as ce,k as ge,l as ye,W as ve,m as Ce}from"./Switch.vuevuetypescriptsetuptruelang-B9Nz5c31.js";import{_ as M}from"./index-DKsLTy_v.js";import{d as h,z as u,u as K,F as v,_ as C,a as S,b as w,c as P,t as z}from"./vee-validate-zod-Bd4DyQh_.js";/* empty css                                                              */import{u as Z,L as j,i as Se,_ as we}from"./http-DRAxGgd-.js";import{d as F,I as xe,J as Pe,p as Ve,f as k,o as d,b as l,u as e,h as Ee,w as a,c as R,e as b,t as J,M as U,i as s,m as N,y as T,F as H,v as X,n as O,g as G,G as ke,x as $e,H as Ie}from"./index-DyKXIu_s.js";import{c as ae,a as Te}from"./createLucideIcon-B1KZTuC_.js";import{_ as Re}from"./plugin-vueexport-helper-DlAUqK2U.js";import{u as De,_ as A,a as Q,b as q,c as B,d as E}from"./SelectValue.vuevuetypescriptsetuptruelang-BL2ywKUa.js";import{_ as Fe,a as Y,b as W,c as Ue}from"./TabsTrigger.vuevuetypescriptsetuptruelang-BgDqJHK2.js";import"./useMutation-DVyLc4Co.js";import"./PopperContent-BATPYHgH.js";/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=ae("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=ae("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),he={class:"relative"},Ae={class:"sr-only"},Qe=F({__name:"PasswordInput",props:xe({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const o=x,f=Pe(x,"modelValue"),c=Ve(!1);function $(){c.value=!c.value}return(g,m)=>(d(),k("div",he,[l(e(h),{modelValue:f.value,"onUpdate:modelValue":m[0]||(m[0]=i=>f.value=i),type:e(c)?"text":"password",class:Ee(e(Te)("pr-10 hide-password-toggle",o.class))},null,8,["modelValue","type","class"]),l(e(M),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:$},{default:a(()=>[e(c)&&!o.disabled?(d(),R(e(Ne),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(d(),R(e(je),{key:1,class:"w-4 h-4","aria-hidden":"true"})),b("span",Ae,J(e(c)?"Hide password":"Show password"),1)]),_:1})]))}}),le=Re(Qe,[["__scopeId","data-v-2606193e"]]),qe=F({__name:"CargoConfigForm",props:{initialValues:{}},setup(x){const o=x,f=u.object({liftPosition:u.number().min(0,"Lift position must be at least 0"),lowerPosition:u.number().min(0,"Lower position must be at least 0")}).refine(r=>r.liftPosition<r.lowerPosition,{message:"Lift position must be less than lower position",path:["liftPosition"]}),c=Z(),{mutate:$,isPending:g}=te(),i=K({validationSchema:z(f),initialValues:o.initialValues}).handleSubmit(r=>{$(r,{onSuccess:()=>{c.setQueryData([se],r),U.success("Cargo configuration updated successfully!")},onError:()=>{U.error("Failed to update cargo configuration")}})});return(r,n)=>(d(),k("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:n[0]||(n[0]=(...p)=>e(i)&&e(i)(...p))},[n[4]||(n[4]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," Cargo Configuration ",-1)),l(e(v),{name:"liftPosition"},{default:a(({componentField:p})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>n[1]||(n[1]=[s("Lift Position")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),N(p,{type:"number",placeholder:"Enter lift position",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"lowerPosition"},{default:a(({componentField:p})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>n[2]||(n[2]=[s("Lower Position")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),N(p,{type:"number",placeholder:"Enter lower position",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),b("div",null,[l(e(M),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(d(),R(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),n[3]||(n[3]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),Be={key:0,class:"flex items-center justify-center h-full"},He=F({__name:"CargoConfigTab",setup(x){const{data:o,isPending:f}=ne();return(c,$)=>(d(),k(H,null,[e(f)?(d(),k("div",Be,[l(e(j),{class:"w-4 h-4 animate-spin"})])):T("",!0),e(o)?(d(),R(qe,{key:1,"initial-values":e(o)},null,8,["initial-values"])):T("",!0)],64))}}),Oe=F({__name:"CloudConfigForm",props:{initialValues:{}},setup(x){const o=x,f=u.object({address:u.string().min(1,"Address is required"),token:u.string().min(1,"Token is required")}),c=Z(),{mutate:$,isPending:g}=ue(),i=K({validationSchema:z(f),initialValues:o.initialValues}).handleSubmit(r=>{$(r,{onSuccess:()=>{c.setQueryData([de],r),U.success("Cloud configuration updated successfully!")},onError:()=>{U.error("Failed to update cloud configuration")}})});return(r,n)=>(d(),k("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:n[0]||(n[0]=(...p)=>e(i)&&e(i)(...p))},[n[4]||(n[4]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(v),{name:"address"},{default:a(({componentField:p})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>n[1]||(n[1]=[s("Cloud Address")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),N(p,{type:"url",placeholder:"https://cloud.example.com",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"token"},{default:a(({componentField:p})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>n[2]||(n[2]=[s("Auth token")])),_:1}),l(e(w),null,{default:a(()=>[l(e(le),N(p,{placeholder:"Enter your auth token",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),b("div",null,[l(e(M),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(d(),R(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),n[3]||(n[3]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),Ge={key:0,class:"flex items-center justify-center h-full"},Le=F({__name:"CloudConfigTab",setup(x){const{data:o,isPending:f}=oe();return(c,$)=>(d(),k(H,null,[e(f)?(d(),k("div",Ge,[l(e(j),{class:"w-4 h-4 animate-spin"})])):T("",!0),e(o)?(d(),R(Oe,{key:1,"initial-values":e(o)},null,8,["initial-values"])):T("",!0)],64))}}),Me={class:"space-y-0.5"},Ye=F({__name:"GRPCConfigForm",props:{initialValues:{}},setup(x){const o=x,f=u.object({port:u.number().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),enable:u.boolean().default(!1)}),c=Z(),{mutate:$,isPending:g}=ie(),i=K({validationSchema:z(f),initialValues:o.initialValues}).handleSubmit(r=>{$(r,{onSuccess:()=>{c.setQueryData([re],r),U.success("gRPC configuration updated successfully!")},onError:()=>{U.error("Failed to update gRPC configuration")}})});return(r,n)=>(d(),k("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:n[0]||(n[0]=(...p)=>e(i)&&e(i)(...p))},[n[4]||(n[4]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," gRPC Configuration ",-1)),l(e(v),{name:"port"},{default:a(({field:p})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>n[1]||(n[1]=[s("Port")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),{modelValue:p.value,"onUpdate:modelValue":I=>p.value=I,type:"number",placeholder:"Enter port number",disabled:e(g),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"enable"},{default:a(({value:p,handleChange:I})=>[l(e(C),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[b("div",Me,[l(e(S),null,{default:a(()=>n[2]||(n[2]=[s("Enable server")])),_:1})]),l(e(w),null,{default:a(()=>[l(e(ee),{"model-value":p,disabled:e(g),"aria-readonly":"","onUpdate:modelValue":I},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),b("div",null,[l(e(M),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(d(),R(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),n[3]||(n[3]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),We={key:0,class:"flex items-center justify-center h-full"},Ke=F({__name:"GRPCConfigTab",setup(x){const{data:o,isPending:f}=fe();return(c,$)=>(d(),k(H,null,[e(f)?(d(),k("div",We,[l(e(j),{class:"w-4 h-4 animate-spin"})])):T("",!0),e(o)?(d(),R(Ye,{key:1,"initial-values":e(o)},null,8,["initial-values"])):T("",!0)],64))}}),ze={listAvailableSerialPorts:x=>Se.get("/peripherals/serials",x)};function Ze(x){return De({queryKey:["serial-ports"],queryFn:()=>ze.listAvailableSerialPorts(x),select:o=>o.items})}const Je={class:"grid grid-cols-1 gap-8"},Xe={class:"space-y-6"},el={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ll={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},al={class:"space-y-6"},tl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},sl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},nl=F({__name:"HardwareConfigForm",props:{initialValues:{}},setup(x){const o=x,f=[9600,19200,38400,57600,115200],c=u.object({port:u.string().min(1,"Port is required"),baudRate:u.number().int().positive("Baud rate must be positive"),parity:u.enum(["NONE","EVEN","ODD"]).default("NONE"),dataBits:u.union([u.literal(5),u.literal(6),u.literal(7),u.literal(8)]).default(8),stopBits:u.union([u.literal(1),u.literal(1.5),u.literal(2)]).default(1),readTimeout:u.number().int().nonnegative("Read timeout must be non-negative")}),$=u.object({esp:u.object({serial:c}),pic:u.object({serial:c})}).superRefine((V,t)=>{V.esp.serial.port===V.pic.serial.port&&(t.addIssue({code:u.ZodIssueCode.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:u.ZodIssueCode.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),g=Z(),{mutate:m,isPending:i}=me(),{data:r,refetch:n}=Ze({doNotShowLoading:!0}),I=K({validationSchema:z($),initialValues:o.initialValues}).handleSubmit(V=>{m(V,{onSuccess:()=>{g.setQueryData([pe],V),U.success("Hardware configuration updated successfully!")},onError:()=>{U.error("Failed to update hardware configuration")}})});function _(V){V&&n()}return(V,t)=>(d(),k("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...y)=>e(I)&&e(I)(...y))},[b("div",Je,[b("div",Xe,[t[17]||(t[17]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," ESP Serial Configuration ",-1)),b("div",el,[l(e(v),{name:"esp.serial.port"},{default:a(({componentField:y,value:D})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1}),l(e(A),N(y,{required:"","onUpdate:open":_}),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:D},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),e(r)?(d(),R(e(B),{key:0},{default:a(()=>[(d(!0),k(H,null,X(e(r),L=>(d(),R(e(E),{key:L.port,value:L.port},{default:a(()=>[s(J(L.port),1)]),_:2},1032,["value"]))),128))]),_:1})):T("",!0)]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"esp.serial.readTimeout"},{default:a(({field:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[2]||(t[2]=[s("Read Timeout (s)")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),{modelValue:y.value,"onUpdate:modelValue":D=>y.value=D,type:"number",disabled:e(i),placeholder:"e.g. 1"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1})]),b("div",ll,[l(e(v),{name:"esp.serial.baudRate"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[3]||(t[3]=[s("Baud Rate")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[(d(),k(H,null,X(f,D=>l(e(E),{key:D,value:D},{default:a(()=>[s(J(D),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"esp.serial.parity"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[4]||(t[4]=[s("Parity")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[l(e(E),{value:"NONE"},{default:a(()=>t[5]||(t[5]=[s(" None ")])),_:1}),l(e(E),{value:"EVEN"},{default:a(()=>t[6]||(t[6]=[s(" Even ")])),_:1}),l(e(E),{value:"ODD"},{default:a(()=>t[7]||(t[7]=[s(" Odd ")])),_:1})]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"esp.serial.dataBits"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[8]||(t[8]=[s("Data Bits")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[l(e(E),{value:5},{default:a(()=>t[9]||(t[9]=[s(" 5 ")])),_:1}),l(e(E),{value:6},{default:a(()=>t[10]||(t[10]=[s(" 6 ")])),_:1}),l(e(E),{value:7},{default:a(()=>t[11]||(t[11]=[s(" 7 ")])),_:1}),l(e(E),{value:8},{default:a(()=>t[12]||(t[12]=[s(" 8 ")])),_:1})]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"esp.serial.stopBits"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[13]||(t[13]=[s("Stop Bits")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[l(e(E),{value:1},{default:a(()=>t[14]||(t[14]=[s(" 1 ")])),_:1}),l(e(E),{value:1.5},{default:a(()=>t[15]||(t[15]=[s(" 1.5 ")])),_:1}),l(e(E),{value:2},{default:a(()=>t[16]||(t[16]=[s(" 2 ")])),_:1})]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1})])]),b("div",al,[t[34]||(t[34]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," PIC Serial Configuration ",-1)),b("div",tl,[l(e(v),{name:"pic.serial.port"},{default:a(({componentField:y,value:D})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[18]||(t[18]=[s("Port")])),_:1}),l(e(A),N(y,{required:"","onUpdate:open":_}),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:D},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(B),null,{default:a(()=>[(d(!0),k(H,null,X(e(r),L=>(d(),R(e(E),{key:L.port,value:L.port},{default:a(()=>[s(J(L.port),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"pic.serial.readTimeout"},{default:a(({field:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[19]||(t[19]=[s("Read Timeout (s)")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),{modelValue:y.value,"onUpdate:modelValue":D=>y.value=D,type:"number",disabled:e(i),placeholder:"e.g. 1"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1})]),b("div",sl,[l(e(v),{name:"pic.serial.baudRate"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[20]||(t[20]=[s("Baud Rate")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[(d(),k(H,null,X(f,D=>l(e(E),{key:D,value:D},{default:a(()=>[s(J(D),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"pic.serial.parity"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[21]||(t[21]=[s("Parity")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[l(e(E),{value:"NONE"},{default:a(()=>t[22]||(t[22]=[s(" None ")])),_:1}),l(e(E),{value:"EVEN"},{default:a(()=>t[23]||(t[23]=[s(" Even ")])),_:1}),l(e(E),{value:"ODD"},{default:a(()=>t[24]||(t[24]=[s(" Odd ")])),_:1})]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"pic.serial.dataBits"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[25]||(t[25]=[s("Data Bits")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[l(e(E),{value:5},{default:a(()=>t[26]||(t[26]=[s(" 5 ")])),_:1}),l(e(E),{value:6},{default:a(()=>t[27]||(t[27]=[s(" 6 ")])),_:1}),l(e(E),{value:7},{default:a(()=>t[28]||(t[28]=[s(" 7 ")])),_:1}),l(e(E),{value:8},{default:a(()=>t[29]||(t[29]=[s(" 8 ")])),_:1})]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"pic.serial.stopBits"},{default:a(({componentField:y})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>t[30]||(t[30]=[s("Stop Bits")])),_:1}),l(e(A),O(G(y)),{default:a(()=>[l(e(w),null,{default:a(()=>[l(e(Q),{disabled:e(i)},{default:a(()=>[l(e(q),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(B),null,{default:a(()=>[l(e(E),{value:1},{default:a(()=>t[31]||(t[31]=[s(" 1 ")])),_:1}),l(e(E),{value:1.5},{default:a(()=>t[32]||(t[32]=[s(" 1.5 ")])),_:1}),l(e(E),{value:2},{default:a(()=>t[33]||(t[33]=[s(" 2 ")])),_:1})]),_:1})]),_:2},1040),l(e(P))]),_:2},1024)]),_:1})])])]),b("div",null,[l(e(M),{type:"submit",disabled:e(i)},{default:a(()=>[e(i)?(d(),R(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),t[35]||(t[35]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),ul={key:0,class:"flex items-center justify-center h-full"},dl=F({__name:"HardwareConfigTab",setup(x){const{data:o,isPending:f}=be();return(c,$)=>(d(),k(H,null,[e(f)?(d(),k("div",ul,[l(e(j),{class:"w-4 h-4 animate-spin"})])):T("",!0),e(o)?(d(),R(nl,{key:1,"initial-values":e(o)},null,8,["initial-values"])):T("",!0)],64))}}),ol={class:"space-y-0.5"},il=F({__name:"HTTPConfigForm",props:{initialValues:{}},setup(x){const o=x,f=u.object({port:u.number().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:u.boolean().default(!1)}),c=Z(),{mutate:$,isPending:g}=_e(),i=K({validationSchema:z(f),initialValues:o.initialValues}).handleSubmit(r=>{$(r,{onSuccess:()=>{c.setQueryData([ce],r),U.success("HTTP configuration updated successfully!")},onError:()=>{U.error("Failed to update HTTP configuration")}})});return(r,n)=>(d(),k("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:n[0]||(n[0]=(...p)=>e(i)&&e(i)(...p))},[n[4]||(n[4]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(v),{name:"port"},{default:a(({field:p})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>n[1]||(n[1]=[s("Port")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),{modelValue:p.value,"onUpdate:modelValue":I=>p.value=I,type:"number",placeholder:"Enter port number",disabled:e(g),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"swagger"},{default:a(({value:p,handleChange:I})=>[l(e(C),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[b("div",ol,[l(e(S),null,{default:a(()=>n[2]||(n[2]=[s("Enable Swagger")])),_:1})]),l(e(w),null,{default:a(()=>[l(e(ee),{"model-value":p,disabled:e(g),"aria-readonly":"","onUpdate:modelValue":I},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),b("div",null,[l(e(M),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(d(),R(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),n[3]||(n[3]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),rl={key:0,class:"flex items-center justify-center h-full"},fl=F({__name:"HTTPConfigTab",setup(x){const{data:o,isPending:f}=ge();return(c,$)=>(d(),k(H,null,[e(f)?(d(),k("div",rl,[l(e(j),{class:"w-4 h-4 animate-spin"})])):T("",!0),e(o)?(d(),R(il,{key:1,"initial-values":e(o)},null,8,["initial-values"])):T("",!0)],64))}}),ml={class:"space-y-0.5"},pl={class:"space-y-0.5"},bl=F({__name:"WifiConfigForm",props:{initialValues:{}},setup(x){const o=x,f=/^[\w\s\-.]*$/,c=/^[\x21-\x7E]*$/,$=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,g=u.object({ap:u.object({enable:u.boolean(),ssid:u.string().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(f,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:u.string().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(c,"Password can only contain printable characters"),ip:u.string().min(1,"IP address is required").regex($,"Invalid IPv4 address format")}),sta:u.object({enable:u.boolean(),ssid:u.string().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(f,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:u.string().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(c,"Password can only contain printable characters")})}).superRefine((I,_)=>{(I.ap.enable&&I.sta.enable||!I.ap.enable&&!I.sta.enable)&&(_.addIssue({code:u.ZodIssueCode.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),_.addIssue({code:u.ZodIssueCode.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),m=Z(),{mutate:i,isPending:r}=ye(),p=K({validationSchema:z(g),initialValues:o.initialValues}).handleSubmit(I=>{i(I,{onSuccess:()=>{m.setQueryData([ve],I),U.success("WiFi configuration updated successfully!")},onError:()=>{U.error("Failed to update WiFi configuration")}})});return(I,_)=>(d(),k("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:_[0]||(_[0]=(...V)=>e(p)&&e(p)(...V))},[_[9]||(_[9]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(v),{type:"checkbox",name:"ap.enable"},{default:a(({value:V,handleChange:t})=>[l(e(C),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[b("div",ml,[l(e(S),null,{default:a(()=>_[1]||(_[1]=[s("Enable AP")])),_:1})]),l(e(w),null,{default:a(()=>[l(e(ee),{"model-value":V,disabled:e(r),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(P))]),_:1}),l(e(v),{name:"ap.ssid"},{default:a(({componentField:V})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>_[2]||(_[2]=[s("SSID")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),N(V,{placeholder:"Enter SSID",disabled:e(r)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"ap.password"},{default:a(({componentField:V})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>_[3]||(_[3]=[s("Password")])),_:1}),l(e(w),null,{default:a(()=>[l(e(le),N(V,{placeholder:"Enter password",disabled:e(r)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"ap.ip"},{default:a(({componentField:V})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>_[4]||(_[4]=[s("IP Address")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),N(V,{placeholder:"Enter IP address",disabled:e(r)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),_[10]||(_[10]=b("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(v),{type:"checkbox",name:"sta.enable"},{default:a(({value:V,handleChange:t})=>[l(e(C),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[b("div",pl,[l(e(S),null,{default:a(()=>_[5]||(_[5]=[s("Enable STA")])),_:1})]),l(e(w),null,{default:a(()=>[l(e(ee),{"model-value":V,disabled:e(r),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(P))]),_:1}),l(e(v),{name:"sta.ssid"},{default:a(({componentField:V})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>_[6]||(_[6]=[s("SSID")])),_:1}),l(e(w),null,{default:a(()=>[l(e(h),N(V,{placeholder:"Enter SSID",disabled:e(r)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),l(e(v),{name:"sta.password"},{default:a(({componentField:V})=>[l(e(C),null,{default:a(()=>[l(e(S),null,{default:a(()=>_[7]||(_[7]=[s("Password")])),_:1}),l(e(w),null,{default:a(()=>[l(e(le),N(V,{placeholder:"Enter password",disabled:e(r)}),null,16,["disabled"])]),_:2},1024),l(e(P))]),_:2},1024)]),_:1}),b("div",null,[l(e(M),{type:"submit",disabled:e(r)},{default:a(()=>[e(r)?(d(),R(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),_[8]||(_[8]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),_l={key:0,class:"flex items-center justify-center h-full"},cl=F({__name:"WifiConfigTab",setup(x){const{data:o,isPending:f}=Ce();return(c,$)=>(d(),k(H,null,[e(f)?(d(),k("div",_l,[l(e(j),{class:"w-4 h-4 animate-spin"})])):T("",!0),e(o)?(d(),R(bl,{key:1,"initial-values":e(o)},null,8,["initial-values"])):T("",!0)],64))}}),gl={class:"text-sm text-muted-foreground"},Tl=F({__name:"SettingsView",setup(x){const o=ke(),f=Ie(),c=o.query.tab??"hardware";function $(g){f.replace({query:{tab:g}})}return(g,m)=>{const i=$e("RouterLink");return d(),R(we,null,{default:a(()=>[b("div",null,[m[2]||(m[2]=b("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),b("p",gl,[m[1]||(m[1]=s(" Configure your robot's settings ")),l(i,{to:"/reboot",class:"text-blue-500"},{default:a(()=>m[0]||(m[0]=[s(" (Reboot to apply changes) ")])),_:1})])]),l(e(Ue),{"default-value":e(c),"onUpdate:modelValue":$},{default:a(()=>[l(e(Fe),null,{default:a(()=>[l(e(Y),{value:"hardware"},{default:a(()=>m[3]||(m[3]=[s(" Hardware ")])),_:1}),l(e(Y),{value:"cloud"},{default:a(()=>m[4]||(m[4]=[s(" Cloud ")])),_:1}),l(e(Y),{value:"grpc"},{default:a(()=>m[5]||(m[5]=[s(" GRPC ")])),_:1}),l(e(Y),{value:"http"},{default:a(()=>m[6]||(m[6]=[s(" HTTP ")])),_:1}),l(e(Y),{value:"cargo"},{default:a(()=>m[7]||(m[7]=[s(" Cargo ")])),_:1}),l(e(Y),{value:"wifi"},{default:a(()=>m[8]||(m[8]=[s(" WiFi ")])),_:1})]),_:1}),l(e(W),{value:"hardware"},{default:a(()=>[l(dl)]),_:1}),l(e(W),{value:"cloud"},{default:a(()=>[l(Le)]),_:1}),l(e(W),{value:"grpc"},{default:a(()=>[l(Ke)]),_:1}),l(e(W),{value:"http"},{default:a(()=>[l(fl)]),_:1}),l(e(W),{value:"cargo"},{default:a(()=>[l(He)]),_:1}),l(e(W),{value:"wifi"},{default:a(()=>[l(cl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Tl as default};
